<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ì¢…í•© ì‹¤ìŠµ</title>
    <style>
      /* CSS ìŠ¤íƒ€ì¼ ì •ì˜: í˜ì´ì§€ì˜ ì‹œê°ì ì¸ ìš”ì†Œë¥¼ ê¾¸ë°‰ë‹ˆë‹¤. */
      body {
        font-family: Arial, sans-serif;
        max-width: 900px;
        margin: 50px auto;
        padding: 20px;
        background: #fafafa;
      }
      h1 {
        text-align: center;
        color: #333;
      }
      .search-box {
        text-align: center;
        padding: 30px;
        background: white;
        border-radius: 10px;
        margin-bottom: 20px;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }
      input {
        padding: 12px;
        width: 300px;
        font-size: 16px;
        border: 2px solid #ddd;
        border-radius: 5px;
      }
      button {
        padding: 12px 25px;
        margin: 5px;
        cursor: pointer;
        background: #2196f3;
        color: white;
        border: none;
        border-radius: 5px;
        font-size: 16px;
      }
      button:hover {
        background: #0b7dda;
      }
      button:disabled {
        background: #ccc;
        cursor: not-allowed;
      }
      .photo-grid {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(250px, 1fr));
        gap: 20px;
        margin-top: 20px;
      }
      .photo-card {
        background: white;
        border-radius: 10px;
        overflow: hidden;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        transition: transform 0.2s;
        padding: 5px;
      }
      .photo-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
      }
      .photo-card .info {
        padding: 15px;
      }
      .photo-card .title {
        font-weight: bold;
        margin-bottom: 5px;
        color: #333;
      }
      .photo-card .imgtext {
        display: grid;
        align-items: center;
        text-align: center;
        height: 200px;
        font-size: 60px;
        font-weight: 700;
        color: white;
        background: linear-gradient(135deg, #6a7cff, #9b59ff);
      }
      /* div {
        border: 1px solid black;
        padding: 0px;
        margin: 0px;
      } */
    </style>
  </head>
  <body>
    <h1>ğŸ¨ ì¢…í•© ì‹¤ìŠµ: í•œê¸€ ê²€ìƒ‰ ì•±</h1>

    <div class="search-box">
      <!-- ê²€ìƒ‰ì–´ ì…ë ¥ì„ ìœ„í•œ input í•„ë“œ -->
      <input
        type="text"
        id="searchInput"
        placeholder="ê²€ìƒ‰ì–´ë¥¼ ì…ë ¥í•˜ì„¸ìš” (ì˜ˆ: ì‚¬ê³¼, ë”¸ê¸°, ê³¼ì¼)"
      />
      <!-- ê²€ìƒ‰ì„ ì‹¤í–‰í•˜ëŠ” ë²„íŠ¼ -->
      <button onclick="searchItems()">ê²€ìƒ‰</button>
      <!-- ê²€ìƒ‰ ê²°ê³¼ë¥¼ ì´ˆê¸°í™”í•˜ëŠ” ë²„íŠ¼ -->
      <button onclick="clearResults()">ì´ˆê¸°í™”</button>
    </div>
    <!-- ê²€ìƒ‰ ê²°ê³¼ë¥¼ í‘œì‹œí•  ì»¨í…Œì´ë„ˆ -->
    <div id="resultContainer" class="photo-grid"></div>

    <script>
      // 1. DOM ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
      // 'searchInput'ì€ ê²€ìƒ‰ ì…ë ¥ í•„ë“œë¥¼ ì°¸ì¡°í•©ë‹ˆë‹¤.
      const searchInput = document.querySelector("#searchInput");
      // 'resultContainer'ëŠ” ê²€ìƒ‰ ê²°ê³¼ë¥¼ ë™ì ìœ¼ë¡œ í‘œì‹œí•  div ì»¨í…Œì´ë„ˆë¥¼ ì°¸ì¡°í•©ë‹ˆë‹¤.
      const resultContainer = document.querySelector("#resultContainer");

      // í•œê¸€ ë°ì´í„°ë¥¼ í¬í•¨í•˜ëŠ” ë°°ì—´ (ê²€ìƒ‰ ëŒ€ìƒ ë°ì´í„°)
      const items = [
        {
          id: 1,
          name: "ì‚¬ê³¼",
          category: "ê³¼ì¼",
          description: "ë¹¨ê°„ìƒ‰ ê³¼ì¼ì…ë‹ˆë‹¤",
        },
        {
          id: 2,
          name: "ë”¸ê¸°",
          category: "ê³¼ì¼",
          description: "ë‹¬ì½¤í•œ ë¹¨ê°„ ê³¼ì¼ì…ë‹ˆë‹¤",
        },
        {
          id: 3,
          name: "ë°”ë‚˜ë‚˜",
          category: "ê³¼ì¼",
          description: "ë…¸ë€ìƒ‰ ê³¼ì¼ì…ë‹ˆë‹¤",
        },
        {
          id: 4,
          name: "ì˜¤ë Œì§€",
          category: "ê³¼ì¼",
          description: "ì£¼í™©ìƒ‰ ê³¼ì¼ì…ë‹ˆë‹¤",
        },
        {
          id: 5,
          name: "í¬ë„",
          category: "ê³¼ì¼",
          description: "ë³´ë¼ìƒ‰ ê³¼ì¼ì…ë‹ˆë‹¤",
        },
        {
          id: 6,
          name: "ìˆ˜ë°•",
          category: "ê³¼ì¼",
          description: "ì—¬ë¦„ ê³¼ì¼ì…ë‹ˆë‹¤",
        },
        {
          id: 7,
          name: "ë‹¹ê·¼",
          category: "ì±„ì†Œ",
          description: "ì£¼í™©ìƒ‰ ì±„ì†Œì…ë‹ˆë‹¤",
        },
        {
          id: 8,
          name: "í† ë§ˆí† ",
          category: "ì±„ì†Œ",
          description: "ë¹¨ê°„ìƒ‰ ì±„ì†Œì…ë‹ˆë‹¤",
        },
        {
          id: 9,
          name: "ì˜¤ì´",
          category: "ì±„ì†Œ",
          description: "ì´ˆë¡ìƒ‰ ì±„ì†Œì…ë‹ˆë‹¤",
        },
        {
          id: 10,
          name: "ì–‘íŒŒ",
          category: "ì±„ì†Œ",
          description: "ë…¸ë€ìƒ‰ ì±„ì†Œì…ë‹ˆë‹¤",
        },
        {
          id: 11,
          name: "ê³ êµ¬ë§ˆ",
          category: "ì±„ì†Œ",
          description: "ì£¼í™©ìƒ‰ ì±„ì†Œì…ë‹ˆë‹¤",
        },
        {
          id: 12,
          name: "ë°°ì¶”",
          category: "ì±„ì†Œ",
          description: "ì´ˆë¡ìƒ‰ ì±„ì†Œì…ë‹ˆë‹¤",
        },
      ];

      // ê²€ìƒ‰ ê¸°ëŠ¥ì„ ìˆ˜í–‰í•˜ëŠ” í•¨ìˆ˜
      function searchItems() {
        // ê²€ìƒ‰ ì…ë ¥ í•„ë“œì˜ í˜„ì¬ ê°’(value)ì„ ê°€ì ¸ì˜µë‹ˆë‹¤.
        let val = searchInput.value;
        // ê¸°ì¡´ ê²€ìƒ‰ ê²°ê³¼ë¥¼ ëª¨ë‘ ì§€ì›ë‹ˆë‹¤.
        clearResults();
        // ê²€ìƒ‰ ì¡°ê±´ì— ë§ëŠ” í•­ëª©ë“¤ì„ ì €ì¥í•  ë°°ì—´ì„ ì„ ì–¸í•©ë‹ˆë‹¤.
        let itemList = [];

        // 'items' ë°°ì—´ì˜ ê° í•­ëª©ì„ ìˆœíšŒí•©ë‹ˆë‹¤.
        items.forEach((i) => {
          // ê²€ìƒ‰ì–´ 'val'ì´ í•­ëª©ì˜ 'name', 'category', 'description' ì¤‘ í•˜ë‚˜ë¼ë„ í¬í•¨ë˜ê±°ë‚˜ ì¼ì¹˜í•˜ë©´
          if (
            i.name.includes(val) ||       // ì´ë¦„ì— ê²€ìƒ‰ì–´ í¬í•¨ ì—¬ë¶€
            i.category == val ||          // ì¹´í…Œê³ ë¦¬ê°€ ê²€ìƒ‰ì–´ì™€ ì¼ì¹˜ ì—¬ë¶€
            i.description.includes(val)   // ì„¤ëª…ì— ê²€ìƒ‰ì–´ í¬í•¨ ì—¬ë¶€
          ) {
            // í•´ë‹¹ í•­ëª©ì— ëŒ€í•œ UI ìŠ¬ë¡¯(ì¹´ë“œ)ì„ ìƒì„±í•˜ê³  'itemList'ì— ì¶”ê°€í•©ë‹ˆë‹¤.
            itemList.push(createSlot(i.name, i.category, i.description));
          }
        });
      }

      // ê°œë³„ í•­ëª©ì— ëŒ€í•œ UI ìŠ¬ë¡¯(ì¹´ë“œ)ì„ ìƒì„±í•˜ê³  DOMì— ì¶”ê°€í•˜ëŠ” í•¨ìˆ˜
      function createSlot(name, cate, description) {
        // 'photo-card' í´ë˜ìŠ¤ë¥¼ ê°€ì§„ ìƒˆë¡œìš´ div ìš”ì†Œë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
        let item = document.createElement("div");
        item.setAttribute("class", "photo-card");

        // í•­ëª©ì˜ ì´ë¦„ ì²« ê¸€ìë¥¼ í‘œì‹œí•  'imgtext' divë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
        let imgtext = document.createElement("div");
        imgtext.textContent = name; // ì´ë¦„ì„ í…ìŠ¤íŠ¸ ì½˜í…ì¸ ë¡œ ì„¤ì •
        imgtext.setAttribute("class", "imgtext"); // 'imgtext' í´ë˜ìŠ¤ ì„¤ì •
        item.prepend(imgtext); // 'photo-card'ì˜ ë§¨ ì•ì— 'imgtext'ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

        // í•­ëª©ì˜ ìƒì„¸ ì •ë³´ë¥¼ ë‹´ì„ 'infobox' divë¥¼ ìƒì„±í•©ë‹ˆë‹¤.
        let infobox = document.createElement("div");
        let title = document.createElement("div");     // ì œëª© div
        let category = document.createElement("div");  // ì¹´í…Œê³ ë¦¬ div
        let info = document.createElement("div");      // ì„¤ëª… div

        title.textContent = name;           // ì œëª© í…ìŠ¤íŠ¸ ì„¤ì •
        title.setAttribute("class", "title"); // 'title' í´ë˜ìŠ¤ ì„¤ì •
        category.textContent = "ì¹´í…Œê³ ë¦¬ : " + cate; // ì¹´í…Œê³ ë¦¬ í…ìŠ¤íŠ¸ ì„¤ì •
        info.textContent = description;     // ì„¤ëª… í…ìŠ¤íŠ¸ ì„¤ì •

        // 'infobox'ì— ì œëª©, ì¹´í…Œê³ ë¦¬, ì„¤ëª…ì„ ìˆœì„œëŒ€ë¡œ ì¶”ê°€í•©ë‹ˆë‹¤.
        infobox.append(title);
        infobox.append(category);
        infobox.append(info);

        item.append(infobox); // 'photo-card'ì˜ ë’¤ì— 'infobox'ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.

        resultContainer.append(item); // ìµœì¢…ì ìœ¼ë¡œ 'resultContainer'ì— ì™„ì„±ëœ 'photo-card'ë¥¼ ì¶”ê°€í•©ë‹ˆë‹¤.
      }

      // ê²€ìƒ‰ ê²°ê³¼ë¥¼ í‘œì‹œí•˜ëŠ” ì˜ì—­ì„ ì´ˆê¸°í™”(ë¹„ìš°ëŠ”)í•˜ëŠ” í•¨ìˆ˜
      function clearResults() {
        resultContainer.innerHTML = ""; // 'resultContainer'ì˜ ëª¨ë“  ë‚´ë¶€ HTMLì„ ì œê±°í•©ë‹ˆë‹¤.
      }

      // ì›¹ í˜ì´ì§€ê°€ ë¡œë“œë  ë•Œ ì‹¤í–‰ë˜ëŠ” ì´ë²¤íŠ¸ í•¸ë“¤ëŸ¬
      window.onload = () => {
        // 'items' ë°°ì—´ì˜ ëª¨ë“  í•­ëª©ì— ëŒ€í•´ 'createSlot' í•¨ìˆ˜ë¥¼ í˜¸ì¶œí•˜ì—¬ í™”ë©´ì— í‘œì‹œí•©ë‹ˆë‹¤.
        // ì´ë¡œ ì¸í•´ í˜ì´ì§€ ë¡œë“œ ì‹œ ëª¨ë“  ë°ì´í„°ê°€ ê¸°ë³¸ì ìœ¼ë¡œ í‘œì‹œë©ë‹ˆë‹¤.
        for (const item of items) {
          // 'item'ì´ 'undefined'ê°€ ì•„ë‹Œ ê²½ìš°ì—ë§Œ ìŠ¬ë¡¯ì„ ìƒì„±í•©ë‹ˆë‹¤. (ë¶ˆí•„ìš”í•œ ê²€ì‚¬ì¼ ìˆ˜ ìˆìŒ, ë°°ì—´ ìš”ì†ŒëŠ” undefinedê°€ ì•„ë‹˜)
          if (item != undefined)
            createSlot(item.name, item.category, item.description);
        }
      };
    </script>
  </body>
</html>