<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>1. DOM 찾기</title>
    <style>
      /* CSS 스타일 정의: 페이지의 시각적인 요소를 꾸밉니다. */
      body {
        font-family: Arial, sans-serif;
        max-width: 800px;
        margin: 50px auto;
        padding: 20px;
      }
      .box {
        padding: 15px;
        margin: 10px 0;
        background: #f0f0f0;
        border-radius: 5px;
      }
      button {
        padding: 10px 20px;
        margin: 5px;
        cursor: pointer;
        background: #4caf50;
        color: white;
        border: none;
        border-radius: 5px;
      }
      button:hover {
        background: #45a049;
      }
      #result {
        margin-top: 20px;
        padding: 15px;
        background: #e8f5e9;
        border-radius: 5px;
      }
    </style>
  </head>
  <body>
    <h1>1. DOM 찾기 (DOM Selection)</h1>

    <!-- 웹 페이지의 구조를 나타내는 HTML 요소들 -->
    <!-- 이 요소들을 JavaScript로 선택하고 조작하는 방법을 배웁니다. -->
    <div id="myId" class="box">ID: myId인 요소</div>
    <div class="myClass box">클래스: myClass인 요소 1</div>
    <div class="myClass box">클래스: myClass인 요소 2</div>
    <div class="myClass box">클래스: myClass인 요소 3</div>
    <p class="box">태그: p인 요소</p>

    <!-- 버튼 클릭 시 각 DOM 선택 메서드를 실행하는 JavaScript 함수 호출 -->
    <button onclick="testGetElementById()">getElementById</button>
    <button onclick="testQuerySelector()">querySelector</button>
    <button onclick="testQuerySelectorAll()">querySelectorAll</button>
    <button onclick="testGetElementsByClassName()">
      getElementsByClassName
    </button>
    <button onclick="testGetElementsByTagName()">getElementsByTagName</button>

    <!-- JavaScript 함수 실행 결과를 표시할 빈 div 요소 -->
    <div id="result"></div>

    <script>
      // DOM(Document Object Model): 웹 페이지의 HTML 요소를 JavaScript로 접근하고 조작할 수 있도록
      // 트리 구조의 객체 모델로 만든 것입니다.

      // 'result' ID를 가진 DOM 요소를 미리 선택하여 'resultdom' 변수에 저장합니다.
      // 이 변수는 각 테스트 함수의 결과를 화면에 표시하는 데 사용됩니다.
      let resultdom = document.getElementById("result");

      // 1. getElementById() 메서드 사용 예제
      // 주어진 'id' 속성 값과 일치하는 요소를 찾아 반환합니다.
      // ID는 HTML 문서 내에서 유일해야 하므로, 항상 단일 요소만 반환합니다.
      function testGetElementById() {
        // console.log("testGetElementById 클릭됨"); // 디버깅을 위한 콘솔 출력
        // alert("testGetElementById 클릭됨"); // 경고창 출력

        // ID가 'myId'인 div 요소를 선택합니다.
        let dom1 = document.querySelector("#myId"); // querySelector도 ID 선택 가능

        // console.log(dom1); // 선택된 DOM 요소를 콘솔에 출력

        // 선택된 요소의 내부 HTML(콘텐츠)을 'text1' 변수에 저장합니다.
        let text1 = dom1.innerHTML;
        // console.log(text1); // 추출된 텍스트를 콘솔에 출력

        // 'resultdom' 요소의 내부 HTML을 'text1'으로 설정하여 화면에 표시합니다.
        resultdom.innerHTML = text1;
      }

      // 2. querySelector() 메서드 사용 예제
      // 주어진 CSS 선택자(selector)와 일치하는 문서 내의 첫 번째 요소를 반환합니다.
      // ID, 클래스, 태그 등 다양한 CSS 선택자를 사용할 수 있습니다.
      function testQuerySelector() {
        // CSS 선택자 문법 규칙:
        // - 클래스 선택: ".클래스명" (예: ".myClass")
        // - 태그 선택: "태그명" (예: "div", "p")
        // - ID 선택: "#아이디명" (예: "#myId")
        let dom2 = document.querySelector("#myId"); // ID가 'myId'인 첫 번째 요소를 선택합니다.

        // 선택된 요소의 내부 HTML을 'text2' 변수에 저장합니다.
        let text2 = dom2.innerHTML;
        // console.log(text1); // 원본 코드에는 text1로 잘못 기재됨. text2가 올바름.
        resultdom.innerHTML = text2; // 'resultdom'에 내용을 표시합니다.
      }

      // 3. querySelectorAll() 메서드 사용 예제
      // 주어진 CSS 선택자와 일치하는 문서 내의 모든 요소를 NodeList 형태로 반환합니다.
      // NodeList는 배열과 유사하지만, 배열 메서드를 직접 사용할 수는 없습니다 (forEach는 가능).
      function testQuerySelectorAll() {
        // 클래스가 'myClass'인 모든 div 요소를 선택합니다.
        let domlist = document.querySelectorAll(".myClass");
        // console.log(domlist); // 선택된 NodeList를 콘솔에 출력

        let text = "";
        // 'for...of' 반복문을 사용하여 NodeList의 각 요소를 순회합니다.
        for (let e of domlist) {
          // 각 요소의 내부 HTML을 'text' 변수에 누적하고, 줄 바꿈 태그를 추가합니다.
          text += e.innerHTML + "<br />";
        }

        // 'resultdom'에 누적된 HTML 문자열을 표시합니다.
        resultdom.innerHTML = text;
      }

      // 4. getElementsByClassName() 메서드 사용 예제
      // 주어진 클래스 이름을 가진 모든 요소를 HTMLCollection 형태로 반환합니다.
      // HTMLCollection은 동적(live) 컬렉션으로, DOM이 변경되면 자동으로 업데이트됩니다.
      function testGetElementsByClassName() {
        // 클래스가 'box'인 모든 요소를 선택합니다.
        // 참고: 원본 코드에서는 querySelectorAll(".box")를 사용하고 있으나,
        // 함수 이름은 getElementsByClassName이므로 해당 메서드를 사용하는 것이 더 적절합니다.
        // let domlist = document.getElementsByClassName("box"); // 이것이 함수 이름과 일치하는 올바른 사용법
        let domlist = document.querySelectorAll(".box"); // 현재 코드에서 사용된 방식

        // console.log(domlist); // 선택된 컬렉션을 콘솔에 출력

        let text = "";
        // 'for...of' 반복문을 사용하여 컬렉션의 각 요소를 순회합니다.
        for (let e of domlist) {
          text += e.innerHTML + "<br />";
        }

        resultdom.innerHTML = text;
      }

      // 5. getElementsByTagName() 메서드 사용 예제
      // 주어진 태그 이름을 가진 모든 요소를 HTMLCollection 형태로 반환합니다.
      function testGetElementsByTagName() {
        // 1. p태그 찾기 (한건, 여러건 return되는지 확인)
        // let testList = document.getElementsByTagName("div"); // 'div' 태그를 모두 찾음
        // console.log(testList);

        // 'p' 태그를 가진 모든 요소를 선택합니다.
        // 참고: 원본 코드에서는 querySelectorAll("p")를 사용하고 있으나,
        // 함수 이름은 getElementsByTagName이므로 해당 메서드를 사용하는 것이 더 적절합니다.
        // let domList = document.getElementsByTagName("p"); // 이것이 함수 이름과 일치하는 올바른 사용법
        let domList = document.querySelectorAll("p"); // 현재 코드에서 사용된 방식

        //console.log(domList); // 선택된 컬렉션을 콘솔에 출력

        // 2. p태그 내부 글자를 찾아서, resultDOM 출력하기
        let text = "";
        // 'for...of' 반복문을 사용하여 컬렉션의 각 요소를 순회합니다.
        for (let e of domList) {
          text += e.innerHTML + "<br />";
        }
        resultdom.innerHTML = text;
      }
    </script>
  </body>
</html>