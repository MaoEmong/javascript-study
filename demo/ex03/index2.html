<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>2. DOM에 내용 그리기</title>
    <style>
      /* CSS 스타일 정의: 페이지의 시각적인 요소를 꾸밉니다. */
      body {
        font-family: Arial, sans-serif;
        max-width: 800px;
        margin: 50px auto;
        padding: 20px;
      }
      .section {
        margin: 30px 0;
        padding: 20px;
        background: #f5f5f5;
        border-radius: 5px;
      }
      input,
      textarea {
        width: 100%;
        padding: 10px;
        margin: 10px 0;
        box-sizing: border-box;
      }
      button {
        padding: 10px 20px;
        margin: 5px;
        cursor: pointer;
        background: #2196f3;
        color: white;
        border: none;
        border-radius: 5px;
      }
      button:hover {
        background: #0b7dda;
      }
      #display {
        padding: 15px;
        margin: 10px 0;
        background: white;
        border: 1px solid #ddd;
        border-radius: 5px;
        min-height: 50px;
      }
      .new-element {
        padding: 10px;
        margin: 5px 0;
        background: #4caf50;
        color: white;
        border-radius: 5px;
      }
    </style>
  </head>
  <body>
    <h1>2. DOM에 내용 그리기 (DOM Manipulation)</h1>

    <!-- value 속성을 사용하는 폼(form) 요소 예제 -->
    <div class="section">
      <h2>value 사용 (Form 요소)</h2>
      <input type="text" id="myInput" placeholder="입력하세요" />
      <button onclick="setValue()">value로 값 설정</button>
      <button onclick="getValue()">value 값 가져오기</button>
      <p id="inputResult"></p>
    </div>

    <!-- textContent 속성을 사용하는 예제 -->
    <div class="section">
      <h2>textContent</h2>
      <button onclick="setTextContent()">textContent 사용</button>
      <div id="textDisplay" class="display"></div>
    </div>

    <!-- createElement, append, prepend 메서드 사용 예제 -->
    <div class="section">
      <h2>createElement, append, prepend</h2>
      <button onclick="createAndAppend()">append로 추가</button>
      <button onclick="createAndPrepend()">prepend로 추가</button>
      <button onclick="clearElements()">초기화</button>
      <div id="elementContainer" class="display"></div>
    </div>

    <!-- before, after 메서드 사용 예제 -->
    <div class="section">
      <h2>before, after</h2>
      <div
        id="target"
        style="
          padding: 15px;
          background: #ff9800;
          color: white;
          border-radius: 5px;
        "
      >
        타겟 요소
      </div>
      <button onclick="addBefore()">before로 앞에 추가</button>
      <button onclick="addAfter()">after로 뒤에 추가</button>
      <button onclick="resetBeforeAfter()">초기화</button>
    </div>

    <!-- setAttribute 메서드 사용 예제 -->
    <div class="section">
      <h2>setAttribute</h2>
      <img id="myImage" />
      <br /><button onclick="setImageAttr()">setAttribute로 이미지 설정</button>
    </div>

    <script>
      // 1. input 요소의 'value' 속성 제어
      // input, textarea, select와 같은 폼(form) 요소들은 'value' 속성을 통해 사용자의 입력 값을 가져오거나 설정할 수 있습니다.
      function setValue() {
        let dom = document.querySelector("#myInput"); // ID가 'myInput'인 input 요소를 선택
        dom.value = "Hello"; // input 요소의 현재 값을 "Hello"로 설정
      }

      function getValue() {
        let dom = document.querySelector("#myInput"); // ID가 'myInput'인 input 요소를 선택
        let text = dom.value; // input 요소의 현재 값을 가져와 'text' 변수에 저장
        alert(text); // 가져온 값을 경고창으로 표시
      }

      // 2. DOM 요소의 'textContent' 속성 제어
      // 'textContent'는 요소의 텍스트 콘텐츠를 가져오거나 설정합니다.
      // HTML 태그는 문자열로 취급되어 그대로 표시됩니다 (HTML로 파싱되지 않음).
      function setTextContent() {
        let dom = document.querySelector("#textDisplay"); // ID가 'textDisplay'인 div 요소를 선택
        // 글자가 그대로 들어감(문자열) - <h1>Hello</h1>가 HTML 태그로 해석되지 않고 문자열로 그대로 div 안에 들어갑니다.
        dom.textContent = "<h1>Hello</h1>";
      }

      let num = 1; // 새로운 요소를 생성할 때마다 숫자를 증가시키기 위한 변수

      // 3. 요소 생성 및 추가 (createElement, append, prepend)
      // 'createElement()'는 새로운 HTML 요소를 생성하고,
      // 'append()'는 부모 요소의 마지막 자식으로, 'prepend()'는 부모 요소의 첫 번째 자식으로 요소를 추가합니다.
      function createAndAppend() {
        let dom = document.querySelector("#elementContainer"); // ID가 'elementContainer'인 div 요소를 선택
        // HTML 태그 생성 - 새로운 <h1> 요소를 생성합니다.
        let item = document.createElement("h1");
        item.innerHTML = "Append" + num; // 생성된 h1 요소의 내부 HTML을 설정 (여기서는 텍스트)
        // append에 그냥 문자를 넣으면 문자열로 처리하기에 태그를 바로 사용할 수 없음
        // 'dom' 요소의 자식 요소 중 '꼬리' 부분(가장 마지막)에 'item' 요소를 추가합니다.
        dom.append(item);
        num++; // 다음 생성을 위해 숫자 증가
      }

      function createAndPrepend() {
        let dom = document.querySelector("#elementContainer"); // ID가 'elementContainer'인 div 요소를 선택
        // HTML 태그 생성 - 새로운 <h1> 요소를 생성합니다.
        let item = document.createElement("h1");
        item.innerHTML = "Prepend" + num; // 생성된 h1 요소의 내부 HTML을 설정
        // Prepend에 그냥 문자를 넣으면 문자열로 처리하기에 태그를 바로 사용할 수 없음
        // 'dom' 요소의 자식 요소 중 '머리' 부분(가장 처음)에 'item' 요소를 추가합니다.
        dom.prepend(item);
        num++; // 다음 생성을 위해 숫자 증가
      }

      function clearElements() {
        let dom = document.querySelector("#elementContainer"); // ID가 'elementContainer'인 div 요소를 선택
        dom.innerHTML = ""; // 'dom' 요소의 내부 HTML을 비워 모든 자식 요소를 제거합니다.
        num = 1; // 숫자 카운터를 초기화합니다.
      }

      // 4. 형제 요소 추가 (before, after)
      // 'before()'는 대상 요소의 바로 앞에 새로운 형제 요소를 추가하고,
      // 'after()'는 대상 요소의 바로 뒤에 새로운 형제 요소를 추가합니다.
      function addBefore() {
        let dom = document.querySelector("#target"); // ID가 'target'인 div 요소를 선택
        let item = document.createElement("div"); // 새로운 div 요소를 생성
        item.style =
          "padding: 20px;background: #429202;color: white;border-radius: 5px;"; // 인라인 스타일 설정
        item.innerHTML = "before"; // 내부 HTML 설정
        dom.before(item); // 'dom' 요소의 앞에 'item' 요소를 형제 요소로 추가
      }

      function addAfter() {
        let dom = document.querySelector("#target"); // ID가 'target'인 div 요소를 선택
        let item = document.createElement("div"); // 새로운 div 요소를 생성
        item.style =
          "padding: 20px;background: #fa42a2;color: white;border-radius: 5px;"; // 인라인 스타일 설정
        item.innerHTML = "after"; // 내부 HTML 설정
        dom.after(item); // 'dom' 요소의 뒤에 'item' 요소를 형제 요소로 추가
      }

      function resetBeforeAfter() {
        // 페이지를 새로고침하여 DOM 변경 사항을 초기 상태로 되돌립니다.
        location.reload();
      }

      // 5. 'setAttribute()' 메서드 사용
      // DOM 요소의 속성(attribute) 값을 설정합니다.
      function setImageAttr() {
        let dom = document.querySelector("#myImage"); // ID가 'myImage'인 img 요소를 선택
        // 'src' 속성을 설정하여 이미지 경로를 지정합니다.
        dom.setAttribute(
          "src",
          "https://i.pinimg.com/736x/2b/53/aa/2b53aa45b761b66b554cdf52270f0be9.jpg"
        );
        // 'width' 속성을 설정하여 이미지 너비를 100px로 지정합니다.
        dom.setAttribute("width", "100px");
        // 'height' 속성을 설정하여 이미지 높이를 100px로 지정합니다.
        dom.setAttribute("height", "100px");
      }
    </script>
  </body>
</html>