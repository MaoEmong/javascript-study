// 배열(컬렉션) 다루기 - 추가, 수정, 삭제, 검색 및 불변성(Immutability) 개념

// 자바스크립트는 배열 타입을 내장하고 있으며, 이를 통해 리스트처럼 여러 데이터를 관리할 수 있습니다.
// '불변성'은 원본 데이터를 직접 변경하지 않고, 항상 새로운 데이터를 생성하여 사용하는 프로그래밍 패러다임입니다.
// 이는 데이터 추적을 용이하게 하고 사이드 이펙트를 줄이는 데 도움이 됩니다.

// 원본 데이터 배열
let list = [1, 2, 3, 4, 5];

// 1. 수정 (map 메서드 활용)
// 'map()' 메서드는 배열의 모든 요소에 대해 주어진 함수를 호출하고, 그 결과로 새 배열을 반환합니다.
// 원본 'list' 배열은 변경되지 않습니다.
// (예제에서는 특정 값을 수정하는 것이 아니라 각 요소를 2배로 만듦)
// 'for문을 돌면서 새로운 리스트를 만들어주는 함수(깊은 복사)'라는 설명은 map의 동작을 나타냅니다.
let newlist = list.map((i) => i * 2); // list의 각 요소를 2배로 만든 새 배열 생성
console.log(newlist); // [2, 4, 6, 8, 10] 출력
console.log("-----------------------------");

// [참고] 복사 방식
// - 얕은 복사 (Shallow Copy): 변수에 배열의 참조(주소)를 할당하는 것.
//   한 변수를 변경하면 다른 변수도 영향을 받습니다.
let r = list; // 'r'은 'list'와 같은 배열을 참조합니다. (얕은 복사)

// - 깊은 복사 (Deep Copy): 배열의 실제 값들을 복사하여 새로운 배열을 만드는 것.
//   한 변수를 변경해도 다른 변수는 영향을 받지 않습니다.
//   (예제 코드는 1차원 배열에 대한 수동 깊은 복사 예시)
let ar = [list[0], list[1], list[2], list[3], list[4]]; // 'list'의 요소들을 하나씩 새 배열에 복사 (깊은 복사)

// 2. 추가 (전개 연산자 '...' 활용)
// '전개 연산자 (Spread Operator)'는 배열이나 객체의 요소들을 개별적인 값으로 펼쳐줍니다.
// 이를 사용하여 기존 배열의 요소를 포함하는 새로운 배열을 만들고 새 요소를 추가할 수 있습니다.
// '프리비어스 데이터와 넥스트 데이터'는 상태 관리에서 이전 상태와 다음 상태를 의미할 수 있습니다.
let addList = [...list, 9]; // 'list'의 모든 요소를 펼치고, 그 뒤에 9를 추가하여 새 배열 생성
console.log("list", list); // 원본 'list'는 그대로: [1, 2, 3, 4, 5]
console.log("addlist", addList); // 새 배열: [1, 2, 3, 4, 5, 9]
console.log("-----------------------------");

// 3. 검색 (filter 메서드 활용)
// 'filter()' 메서드는 주어진 함수의 조건을 만족하는(true를 반환하는) 모든 요소를 모아 새로운 배열로 반환합니다.
// 원본 'list' 배열은 변경되지 않습니다.
let searchList = list.filter((i) => i == 3); // 'list'에서 값이 3인 요소만 필터링하여 새 배열 생성
console.log(searchList); // [3] 출력
console.log("-----------------------------");

// 4. 삭제 (filter 메서드 활용)
// 'filter()' 메서드를 사용하여 특정 조건을 만족하지 않는(false를 반환하는) 요소들만 남겨
// 특정 요소를 '삭제'하는 효과를 낼 수 있습니다.
// 원본 'list' 배열은 변경되지 않습니다.
let delList = list.filter((i) => i != 3); // 'list'에서 값이 3이 아닌 요소들만 필터링하여 새 배열 생성
console.log(delList); // [1, 2, 4, 5] 출력
console.log("-----------------------------");