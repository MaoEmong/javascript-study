<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Document</title>
    <style>
      /* 모든 div 요소에 1px 검은색 테두리와 10px 패딩을 적용합니다. */
      div {
        border: 1px solid black;
        padding: 10px;
      }

      /* 'container' 클래스를 가진 요소에 CSS Grid를 적용하여 반응형 3열 레이아웃을 만듭니다. */
      .container {
        display: grid;
        grid-template-columns: 1fr 1fr 1fr; /* 각 열이 동일한 너비를 가지도록 3개의 열을 정의합니다. */
        gap: 10px; /* 그리드 항목들 사이에 10px의 간격을 둡니다. */
      }

      /* #user-1은 예시 ID로, 동적으로 생성되는 포스트 카드에 개별 스타일을 적용하기 위한 플레이스홀더로 보입니다. */
      #user-1 {
        border: 2px solid #4a90e2; /* 파란색 테두리 */
        border-radius: 8px; /* 둥근 모서리 */
        padding: 20px; /* 내부 여백 */
        background: transparent; /* 투명 배경 */
        transition: border-color 0.2s, box-shadow 0.2s; /* 테두리 색상 및 그림자 변화에 애니메이션 효과 */
      }

      /* #user-1 요소에 마우스를 올렸을 때의 스타일 변화 */
      #user-1:hover {
        border-color: #357abd; /* 테두리 색상 변경 */
        box-shadow: 0 0 0 3px rgba(74, 144, 226, 0.1); /* 그림자 효과 추가 */
      }

      /* 'meta-info' 클래스를 가진 요소의 스타일: 유연한 박스 모델(flexbox)을 사용하여 정보를 정렬합니다. */
      .meta-info {
        display: flex; /* flexbox 레이아웃 적용 */
        gap: 15px; /* 항목들 사이에 15px 간격 */
        margin-bottom: 12px; /* 하단 여백 */
        font-size: 12px; /* 글꼴 크기 */
        color: #666; /* 글꼴 색상 */
      }

      /* 'meta-item' 클래스를 가진 요소의 스타일: 각 메타 정보를 구분하는 배경 및 테두리 */
      .meta-item {
        background: transparent; /* 투명 배경 */
        padding: 4px 10px; /* 내부 여백 */
        border-radius: 12px; /* 둥근 모서리 */
        font-weight: 500; /* 글꼴 두께 */
        border: 1px solid #d0d0d0; /* 얇은 테두리 */
      }

      /* 'title' 클래스를 가진 요소의 스타일: 게시글 제목 */
      .title {
        font-size: 18px; /* 글꼴 크기 */
        font-weight: bold; /* 글꼴 두께 */
        color: #333; /* 글꼴 색상 */
        margin-bottom: 12px; /* 하단 여백 */
        line-height: 1.4; /* 줄 높이 */
      }

      /* 'body' 클래스를 가진 요소의 스타일: 게시글 내용 */
      .body {
        font-size: 14px; /* 글꼴 크기 */
        color: #555; /* 글꼴 색상 */
        line-height: 1.6; /* 줄 높이 */
        text-align: justify; /* 양쪽 정렬 */
      }
    </style>
  </head>
  <body>
    <!-- 게시글 삭제 기능을 위한 입력 필드와 버튼 -->
    <div>
      <input type="text" id="my-input" /> <!-- 삭제할 게시글 ID를 입력받는 텍스트 필드 -->
      <button type="button" onclick="del()">id로삭제</button> <!-- 'del()' 함수를 호출하여 게시글을 삭제하는 버튼 -->
    </div>
    <!-- 게시글 목록이 동적으로 로드될 컨테이너 -->
    <div id="post-box" class="container"></div>

    <script>
      // 'del' 함수는 입력된 ID에 해당하는 게시글을 DOM에서 제거합니다.
      function del() {
        // ID가 'my-input'인 input 필드의 현재 값을 가져옵니다.
        let id = document.querySelector("#my-input").value;
        // 템플릿 리터럴을 사용하여 `post-${id}` 형태의 ID를 가진 DOM 요소를 선택합니다.
        let delDom = document.querySelector(`#post-${id}`);
        // 선택된 DOM 요소를 문서에서 제거합니다.
        delDom.remove();
      }

      // 'renderUserItem' 함수는 하나의 게시글(post) 객체를 받아 HTML 요소를 생성하고 반환합니다.
      function renderUserItem(post) {
        // 새로운 div 요소를 생성합니다. 이 div가 하나의 게시글 카드가 됩니다.
        let item = document.createElement("div");
        // 생성된 div 요소에 'id' 속성을 `post-${post.id}` 형태로 설정합니다.
        item.setAttribute("id", `post-${post.id}`);
        // 생성된 div의 내부 HTML을 게시글 데이터로 채웁니다.
        // 템플릿 리터럴을 사용하여 게시글의 userId, id, title, body를 삽입합니다.
        item.innerHTML = `<div class="meta-info">
          <span class="meta-item">userId: ${post.userId}</span>
          <span class="meta-item">id: ${post.id}</span>
        </div>
        <div class="title">
          ${post.title}
        </div>
        <div class="body">
          ${post.body}
        </div>`;
        return item; // 생성된 게시글 카드 요소를 반환합니다.
      }

      // 'download' 함수는 비동기적으로 게시글 데이터를 가져와서 화면에 렌더링합니다.
      async function download() {
        // 1. fetch API를 사용하여 "https://jsonplaceholder.typicode.com/posts"에서 게시글 목록을 가져옵니다.
        let res = await fetch("https://jsonplaceholder.typicode.com/posts");
        // 2. 응답 본문을 JSON 형식으로 파싱하여 JavaScript 객체의 배열로 변환합니다.
        let posts = await res.json(); // json Array -> list (JSON 문자열을 JavaScript 배열로 변환)

        // 3. 게시글이 렌더링될 컨테이너 DOM 요소를 선택합니다.
        let dom = document.querySelector("#post-box");

        // 가져온 'posts' 배열의 각 게시글에 대해 'renderUserItem' 함수를 호출하여 카드를 생성하고,
        // 이를 'dom' 컨테이너에 추가합니다.
        posts.forEach((post) => {
          dom.append(renderUserItem(post));
        });
      }

      // 페이지가 로드되면 'download' 함수를 호출하여 게시글 데이터를 가져와 표시합니다.
      download();
    </script>
  </body>
</html>
